<!-- 图表 主建筑 环球金融中心 -->
<style>
  .panel-chart {
    position: absolute;
    top: 0px;
    right: 0px;
    background: linear-gradient(
      90deg,
      rgba(0, 0, 0, 0) 0%,
      rgba(0, 16, 67, 1) 100%
    );
    /* opacity: 0.8; */
    width: 530px;
    height: 900px;
    padding: 40px 57px 40px 159px;
    box-sizing: border-box;
    transform: scale(0.8, 0.8);
    transform-origin: top right;
    z-index: 99;
    display:none;
  }
  .panel-chart .chartBox {
    width: 315px;
    height: 100%;
  }
  .panel-chart .header {
    height: 128px;
    background: url(./assets/darkStyleImg/panel-title-bg.png) no-repeat center
      center / contain;
    position: relative;
    margin-bottom: 10px;
  }
  .panel-chart .hearder-text {
    font-size: 18px;
    color: #fff;
    width: 222px;
    height: 46px;
    line-height: 46px;
    text-align: center;
    position: absolute;
    top: 44px;
    right: 12px;
  }
  .panel-chart .sub-text {
    font-size: 9px;
    color: #00c7e4;
    min-width: 222px;
    text-align: center;
    position: absolute;
    top: 94px;
    right: 12px;
  }

  .panel-chart .buildInfo {
    display: flex;
    justify-content: space-between;
    margin-bottom: 20px;
  }
  .panel-chart .buildInfo > div > p:first-of-type {
    font-size: 26px;
    line-height: 180%;
    color: #00c7e4;
  }
  .panel-chart .buildInfo > div > p:last-of-type {
    font-size: 16px;
    color: #fff;
  }
  .panel-chart .chartsOne {
    height: 170px;
    padding: 8px 0px;
    background: url(./assets/darkStyleImg/panel-border-bottom.png) no-repeat
        center bottom / contain,
      url(./assets/darkStyleImg/panel-border-top.png) no-repeat center top /
        contain;
    margin-top: 17px;
    background-color: rgba(0, 0, 0, 0.4);
    box-sizing: border-box;
    display:none;
  }
  .panel-chart .accident-description-title {
    padding: 6px 17px;
    font-size: 14px;
    color: #00c7e4;
    vertical-align: middle;
  }
  .panel-chart .accident-description-title img,
  span {
    vertical-align: middle;
  }
</style>

<div class="panel-chart">
  <div class="chartBox">
    <!-- title -->
    <div class="header">
      <div class="hearder-text">上海环球金融中心</div>
      <p class="sub-text">SHANGHAI WORLD FINANCIAL CENTER</p>
    </div>
    <!-- build -->
    <div class="buildInfo">
      <div>
        <p>492m</p>
        <p>建筑总高</p>
      </div>
      <div>
        <p>101层</p>
        <p>楼层数</p>
      </div>
      <div>
        <p>381600m²</p>
        <p>总建筑面积</p>
      </div>
    </div>
    <!-- charts1 -->
    <div class="chartsOne line1">
      <div class="accident-description-title">
        <img
          style="height:14px;"
          src="./assets/darkStyleImg/icon_联系人@2x.png"
          alt=""
        />
        <span>本周超时访客楼层分布</span>
      </div>
      <!-- <p class="chartsTitle titleOne">本周超时访客楼层分布</p> -->
      <div id="mainOne" style="width:90%;height:80%;margin:0 auto;"></div>
    </div>
    <div class="chartsOne line2">
      <div class="accident-description-title">
        <img
          style="height:14px;"
          src="./assets/darkStyleImg/icon_baojing@2x.png"
          alt=""
        />
        <span>4 、5月报警数据</span>
      </div>
      <!-- <p class="chartsTitle titleTwo">4 、5月报警数据</p> -->
      <div id="maintwo" style="width:90%;height:80%;margin:0 auto;"></div>
    </div>
    <div class="chartsOne line3">
      <div class="accident-description-title">
        <img
          style="height:14px;"
          src="./assets/darkStyleImg/icon_tousu@2x.png"
          alt=""
        />
        <span>接到投诉数据</span>
      </div>
      <!-- <p class="chartsTitle titleThree">接到投诉数据</p> -->
      <div id="mainThree" style="width:90%;height:80%;margin:0 auto;"></div>
    </div>
  </div>
</div>

<script>
  var chartOne = echarts.init(document.getElementById("mainOne"));
  var chartTwo = echarts.init(document.getElementById("maintwo"));
  var chartThree = echarts.init(document.getElementById("mainThree"));
  var option1 = {
    // backgroundColor: "rgba(0,0,0,0.4)",
    // title: {
    //   text: "本周超时访客楼层分布",
    //   textStyle: { color: "#00C7E4", fontSize: 20 }
    // },
    tooltip: {
      trigger: "axis",
      axisPointer: {
        // 坐标轴指示器，坐标轴触发有效
        type: "line" // 默认为直线，可选为：'line' | 'shadow'
      }
    },
    grid: {
      left: "3%",
      right: "4%",
      bottom: "3%",
      top: "10%",
      containLabel: true
    },
    xAxis: [
      {
        type: "category",
        data: [
          "1-12",
          "13-24",
          "26-36",
          "37-48",
          "49-60",
          "61-72",
          "73-84",
          "86-96"
        ],
        axisTick: {
          alignWithLabel: true
        },
        axisLabel: { color: "rgba(255,255,255,0.4)" }
      }
    ],
    yAxis: [
      {
        type: "value",
        axisLabel: { color: "rgba(255,255,255,0.4)" },
        splitLine: {
          show: false
        }
      }
    ],
    series: [
      {
        type: "bar",
        barWidth: "60%",
        data: [30, 62, 70, 165, 145, 55, 55, 55],
        itemStyle: {
          normal: {
            color: function(params) {
              let colorList = [
                "#00C7E4",
                "#00C7E4",
                "#00C7E4",
                "#8543E0",
                "#8543E0",
                "#00C7E4",
                "#00C7E4",
                "#00C7E4"
              ];
              return colorList[params.dataIndex];
            }
          }
        }
      }
    ]
  };
  chartOne.setOption(option1, true);

  var option2 = {
    // backgroundColor: "rgba(0,0,0,0.4)",
    tooltip: {
      trigger: "axis",
      axisPointer: {
        type: "line" // 默认为直线，可选为：'line' | 'shadow'
      }
    },
    // title: {
    //   text: "4 、5月报警数据",
    //   textStyle: { color: "#00C7E4", fontSize: 20 },
    // },
    grid: {
      left: "3%",
      right: "4%",
      bottom: "20%",
      top: "10%",
      containLabel: true
    },
    calculable: true,
    legend: {
      bottom: "0%",
      itemGap: 16,
      data: ["4月份", "5月份"],
      textStyle: {
        color: "rgba(255,255,255,0.4)"
      }
    },
    xAxis: [
      {
        type: "category",
        axisTick: {
          alignWithLabel: true
        },
        axisLabel: { color: "rgba(255,255,255,0.4)" },
        data: [
          "01",
          "02",
          "03",
          "04",
          "05",
          "06",
          "07",
          "08",
          "09",
          "10",
          "11",
          "12"
        ]
      }
    ],
    yAxis: [
      {
        type: "value",
        splitLine: {
          show: false
        },
        axisLabel: { color: "rgba(255,255,255,0.4)" }
      }
    ],
    series: [
      {
        name: "5月份",
        type: "line",
        // symbolSize: 14,
        symbol: "circle",
        smooth: true,
        itemStyle: {
          normal: {
            color: "#2FC25B"
          }
        },
        data: [4, 5, 8, 10, 14, 18, 22, 20, 17, 13, 10, 8]
      },
      {
        name: "4月份",
        type: "line",
        // symbolSize: 14,
        symbol: "circle",
        smooth: true,
        itemStyle: {
          normal: {
            color: "#1890FF"
          }
        },
        data: [6, 8, 10, 12, 16, 20, 25, 22, 19, 16, 15, 12]
      }
    ]
  };
  chartTwo.setOption(option2, true);

  var option3 = {
    tooltip: {
      trigger: "item",
      formatter: "{a} <br/>{b}: {c} ({d}%)"
    },
    legend: {
      orient: "vertical",
      right: 0,
      top: 20,
      bottom: 20,
      itemWidth: 8,
      itemHeight: 8,
      data: ["非登记访客闯入", "空调问题", "照明问题", "电梯卡失效"],
      textStyle: {
        color: "#fff",
        fontSize: 10
      },
      itemGap: 10
    },
    series: [
      {
        name: "访问来源",
        type: "pie",
        radius: ["35%", "75%"],
        center: ["30%", "50%"],
        avoidLabelOverlap: false,
        label: {
          normal: {
            show: false,
            position: "center"
          },
          emphasis: {
            show: false,
            textStyle: {
              fontSize: "10"
            }
          }
        },
        labelLine: {
          normal: {
            show: false
          }
        },
        data: [
          {
            value: 375,
            name: "非登记访客闯入",
            itemStyle: {
              normal: {
                color: "#1890FF"
              }
            }
          },
          {
            value: 234,
            name: "照明问题",
            itemStyle: {
              normal: {
                color: "#00C7E4"
              }
            }
          },
          {
            value: 170,
            name: "电梯卡失效",
            itemStyle: {
              normal: {
                color: "#FACC14"
              }
            }
          },
          {
            value: 170,
            name: "空调问题",
            itemStyle: {
              normal: {
                color: "#8543E0"
              }
            }
          }
        ]
      }
    ]
  };
  chartThree.setOption(option3, true);

  $(function() {
    let scalRate = $(window).height() / 900;
    $(".panel-chart").css({
      transform: "scale(" + scalRate + "," + scalRate + ")"
    });

    $(window).resize(function() {
      //当浏览器大小变化时
      let scalRate = $(window).height() / 900;
      $(".panel-chart").css({
        transform: "scale(" + scalRate + "," + scalRate + ")"
      });
    });
  });
</script>
